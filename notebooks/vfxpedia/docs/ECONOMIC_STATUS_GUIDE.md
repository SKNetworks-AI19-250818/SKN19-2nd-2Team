# ğŸ“Š ë¹„ê²½ì œí™œë™ì¸êµ¬ ë³€ìˆ˜ ì²˜ë¦¬ ê°€ì´ë“œ

**ì‘ì„±ì**: ì˜¤í¥ì¬ (vfxpedia)  
**ì‘ì„±ì¼**: 2025-10-08  
**ëª©ì **: íŒ€ì›ë“¤ì´ ê²½ì œí™œë™ ìƒíƒœ ë³€ìˆ˜ë¥¼ ì‰½ê²Œ ì´í•´í•˜ê³  ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ì•ˆë‚´

---

## ğŸ¯ í•µì‹¬ ìš”ì•½

### â­ ì¤‘ìš”í•œ ì‚¬ì‹¤

**`soa_06z2 == 88`ì€ "ë¹„ê²½ì œí™œë™ì¸êµ¬"ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.**

- ì „ì²´ ë°ì´í„°ì˜ ì•½ **35.6%**ë¥¼ ì°¨ì§€í•˜ëŠ” ì¤‘ìš”í•œ ê·¸ë£¹
- **ì‘ë‹µê±°ë¶€ë‚˜ ê²°ì¸¡ê°’ì´ ì•„ë‹Œ, ì •ìƒì ì¸ ë¶„ì„ ëŒ€ìƒ**
- í•™ìƒ, ì£¼ë¶€, ì€í‡´ì ë“±ì´ í¬í•¨ë¨

---

## ğŸ“‹ ë³€ìˆ˜ ì„¤ëª…

### ì›ë³¸ ë³€ìˆ˜: `soa_06z2` (ì§ì—…ë¶„ë¥˜)

```python
# ì½”ë“œ ë§¤í•‘
1~11  : ì‹¤ì œ ì§ì—… (ê´€ë¦¬ì, ì „ë¬¸ê°€, ì‚¬ë¬´ì¢…ì‚¬ì ë“±)
77    : ì‘ë‹µê±°ë¶€ âŒ (ì œê±° ëŒ€ìƒ)
88    : ë¹„ê²½ì œí™œë™ì¸êµ¬ âœ… (ìœ ì§€ ëŒ€ìƒ)
99    : ëª¨ë¦„ âŒ (ì œê±° ëŒ€ìƒ)
```

### ë¬¸ì œì 

íŒ€ì›ë“¤ì´ ì½”ë“œë¥¼ ë³¼ ë•Œ:
```python
# âŒ ì´í•´í•˜ê¸° ì–´ë ¤ìš´ ì½”ë“œ
non_econ_count = (df['soa_06z2'] == 88).sum()
```

**"88ì´ ë­ì§€? ì™œ 88ì¸ê°€?"** â†’ ë¬¸ì„œë¥¼ ì°¾ì•„ë´ì•¼ í•¨ ğŸ˜¥

---

## âœ… í•´ê²° ë°©ë²•: Feature Engineering

### 1. ëª…í™•í•œ ë³€ìˆ˜ ìƒì„±

```python
from utils.data_cleaning import add_economic_status_features

# Feature ìƒì„±
df = add_economic_status_features(df)
```

**ìƒì„±ë˜ëŠ” 3ê°œ ë³€ìˆ˜:**

| ë³€ìˆ˜ëª… | íƒ€ì… | ì„¤ëª… | ì˜ˆì‹œê°’ |
|--------|------|------|--------|
| `is_economically_inactive` | int | ë¹„ê²½ì œí™œë™ì¸êµ¬ ì—¬ë¶€ | 0 ë˜ëŠ” 1 |
| `is_economically_active` | int | ê²½ì œí™œë™ì¸êµ¬ ì—¬ë¶€ | 0 ë˜ëŠ” 1 |
| `economic_status` | str | ê²½ì œí™œë™ ìƒíƒœ ë ˆì´ë¸” | "ë¹„ê²½ì œí™œë™ì¸êµ¬" ë˜ëŠ” "ê²½ì œí™œë™ì¸êµ¬" |

---

## ğŸ’¡ ì‚¬ìš© ì˜ˆì‹œ

### Before (ì´í•´í•˜ê¸° ì–´ë ¤ì›€ âŒ)

```python
# íŒ€ì›: "88ì´ ë­”ì§€ ëª¨ë¥´ê² ì–´ìš”..."
non_econ_df = df[df['soa_06z2'] == 88]
non_econ_rate = (df['soa_06z2'] == 88).sum() / len(df)
```

### After (ëª…í™•í•¨ âœ…)

```python
from utils.data_cleaning import add_economic_status_features

# 1. Feature ìƒì„±
df = add_economic_status_features(df, verbose=True)

# 2. ë¹„ê²½ì œí™œë™ì¸êµ¬ë§Œ í•„í„°ë§ (ì½”ë“œë§Œ ë´ë„ ì˜ë¯¸ ëª…í™•!)
inactive_df = df[df['is_economically_inactive'] == 1]

# 3. ê²½ì œí™œë™ì¸êµ¬ë§Œ í•„í„°ë§
active_df = df[df['is_economically_active'] == 1]

# 4. ê·¸ë£¹ë³„ ê¸ˆì—° ì„±ê³µë¥  ë¹„êµ (ê°€ë…ì„± ì¢‹ìŒ!)
success_by_status = df.groupby('economic_status')['churn'].mean()
print(success_by_status)
# ì¶œë ¥:
# ê²½ì œí™œë™ì¸êµ¬      0.5234
# ë¹„ê²½ì œí™œë™ì¸êµ¬    0.5892
```

---

## ğŸ“Š ì‹¤ì œ ë¶„ì„ ì˜ˆì‹œ

### 1. ê¸°ë³¸ í†µê³„

```python
from utils.data_cleaning import get_economic_status_summary

# ê²½ì œí™œë™ ìƒíƒœë³„ ìš”ì•½ í†µê³„
summary = get_economic_status_summary(df)
print(summary)
```

**ì¶œë ¥ ì˜ˆì‹œ:**
```
                    ìƒ˜í”Œìˆ˜  ê¸ˆì—°ì„±ê³µë¥   í‘œì¤€í¸ì°¨  ê¸ˆì—°ì„±ê³µë¥ (%)
economic_status                                      
ê²½ì œí™œë™ì¸êµ¬       57,784      0.52    0.50         52.34
ë¹„ê²½ì œí™œë™ì¸êµ¬     31,973      0.59    0.49         58.92
```

### 2. ì‹œê°í™”

```python
import matplotlib.pyplot as plt
import seaborn as sns

# ê²½ì œí™œë™ ìƒíƒœë³„ ê¸ˆì—° ì„±ê³µë¥  ë¹„êµ
plt.figure(figsize=(10, 6))
sns.barplot(data=df, x='economic_status', y='churn')
plt.title('ê²½ì œí™œë™ ìƒíƒœì— ë”°ë¥¸ ê¸ˆì—° ì„±ê³µë¥ ')
plt.ylabel('ê¸ˆì—° ì„±ê³µë¥ ')
plt.xlabel('ê²½ì œí™œë™ ìƒíƒœ')
plt.show()
```

### 3. í†µê³„ ê²€ì •

```python
from scipy.stats import chi2_contingency

# ê²½ì œí™œë™ ìƒíƒœì™€ ê¸ˆì—° ì„±ê³µì˜ ì—°ê´€ì„± ê²€ì •
contingency_table = pd.crosstab(
    df['economic_status'], 
    df['churn']
)
chi2, p_value, dof, expected = chi2_contingency(contingency_table)

print(f"Chi-square: {chi2:.4f}")
print(f"P-value: {p_value:.4f}")
```

---

## ğŸ” ë³€ìˆ˜ ì •ë³´ í™•ì¸í•˜ê¸°

ì½”ë“œ ì˜ë¯¸ê°€ í—·ê°ˆë¦´ ë•Œ:

```python
from utils.data_cleaning import print_economic_code_info

# soa_06z2 ë³€ìˆ˜ ì„¤ëª… ì¶œë ¥
print_economic_code_info('soa_06z2')
```

**ì¶œë ¥:**
```
================================================================================
ğŸ“Š soa_06z2 - ì§ì—…ë¶„ë¥˜
================================================================================

ì„¤ëª…: í˜„ì¬ ì§ì—… (í‘œì¤€ì§ì—…ë¶„ë¥˜ ëŒ€ë¶„ë¥˜)

íŠ¹ìˆ˜ ì½”ë“œ:
     77: ì‘ë‹µê±°ë¶€
  â­ 88: ë¹„ê²½ì œí™œë™ì¸êµ¬
     99: ëª¨ë¦„

ğŸ’¡ Note: 88(ë¹„ê²½ì œí™œë™ì¸êµ¬)ì€ ì •ìƒê°’ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤. ì•½ 35.6%ë¥¼ ì°¨ì§€í•˜ëŠ” ì˜ë¯¸ìˆëŠ” ê·¸ë£¹ì…ë‹ˆë‹¤.
================================================================================
```

---

## ğŸ“ ì™œ ì´ë ‡ê²Œ í•˜ëŠ”ê°€?

### ì¥ì 

1. **ê°€ë…ì„± í–¥ìƒ** ğŸ“–
   - `df['is_economically_inactive'] == 1` â† ì½”ë“œë§Œ ë´ë„ ì˜ë¯¸ íŒŒì•…
   - `df['soa_06z2'] == 88` â† ë¬¸ì„œë¥¼ ì°¾ì•„ë´ì•¼ í•¨

2. **ìœ ì§€ë³´ìˆ˜ ìš©ì´** ğŸ”§
   - ë³€ìˆ˜ ì˜ë¯¸ê°€ ì½”ë“œì— ëª…ì‹œë˜ì–´ ìˆìŒ
   - ë‚˜ì¤‘ì— ë‹¤ì‹œ ë´ë„ ì´í•´í•˜ê¸° ì‰¬ì›€

3. **í˜‘ì—… íš¨ìœ¨** ğŸ‘¥
   - íŒ€ì›ë“¤ì´ ì§ˆë¬¸í•  í•„ìš” ì—†ìŒ
   - ì¼ê´€ëœ ë³€ìˆ˜ëª… ì‚¬ìš©ìœ¼ë¡œ í˜¼ë€ ë°©ì§€

4. **ë¶„ì„ í’ˆì§ˆ** ğŸ“ˆ
   - ëª…í™•í•œ ë³€ìˆ˜ë¡œ ì‹¤ìˆ˜ ë°©ì§€
   - ë¹„ì¦ˆë‹ˆìŠ¤ ì˜ë¯¸ê°€ ì½”ë“œì— ë°˜ì˜ë¨

---

## ğŸ“ ì •ë¦¬

### âœ… ê¶Œì¥ ì‚¬í•­

```python
# ë…¸íŠ¸ë¶ ì‹œì‘ ë¶€ë¶„ì— í•­ìƒ ì¶”ê°€
from utils.data_cleaning import (
    add_economic_status_features,
    get_economic_status_summary,
    print_economic_code_info
)

# ë°ì´í„° ë¡œë“œ í›„ ë°”ë¡œ Feature ìƒì„±
df = pd.read_csv('../../data/analy_data.csv')
df = add_economic_status_features(df, verbose=True)

# ì´ì œ ëª…í™•í•œ ë³€ìˆ˜ë¡œ ë¶„ì„!
```

### âŒ ë¹„ê¶Œì¥

```python
# ì§ì ‘ ì½”ë“œ ê°’ìœ¼ë¡œ í•„í„°ë§ (ì˜ë¯¸ ë¶ˆëª…í™•)
df_inactive = df[df['soa_06z2'] == 88]  # 88ì´ ë­”ì§€ ëª¨ë¦„
```

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- [ë°ì´í„° ì •ì œ ì „ëµ](../03_data_cleaning_strategy.ipynb)
- [ìµœì¢… ì •ì œ ì½”ë“œ](../04_data_cleaning_final.ipynb)
- [êµìœ¡/ê²½ì œ ë¶„ì„](../05_analysis_education_economy.ipynb)
- [ì „ì²´ ì‚¬ìš© ê°€ì´ë“œ](USAGE_GUIDE.md)

---

## ğŸ™‹â€â™‚ï¸ ì§ˆë¬¸ì´ ìˆë‹¤ë©´?

**ì˜¤í¥ì¬ (vfxpedia)**ì—ê²Œ ë¬¸ì˜í•´ì£¼ì„¸ìš”!

